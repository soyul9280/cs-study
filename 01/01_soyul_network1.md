# 네트워크 기초 개념 정리

---

### 1. 네트워크 개요

- **정의** : 노드와 링크(유선/무선)를 연결하여 **리소스를 공유**하는 집합
- **구성요소**
    - **노드(Node)** : 네트워크에 연결된 장치(서버, 라우터, PC,서버 등)
    - **링크(Link)** : 노드를 연결하는 물리적·무선 매체

---

### 2. 네트워크 성능 판단 요소

> 좋은 네트워크 = 처리량(Throughput) 높음 + 지연시간(Latency) 짧음 + 장애율·보안 리스크 낮음
처리량과 지연시간이 중요한 이유
- 네트워크 속도 = 지연시간과 처리량처럼 네트워크 성능요인의 결과
- 처리량 : 네트워크에 동시에 액세스 할 수 있는 사용자 수 결정
- 지연시간: 데이터를 보내거나 받을 때 지연 경험

---

### 2.1 처리량(Throughput)

- **정의** : 단위 시간당 성공적으로 전달된 데이터 양
- 지표 : 목적지에 성공적으로 도착한 데이터 패킷(데이터 조각)의 수
- **측정 단위** : `bps`, `Kbps`, `Mbps`, `Gbps` (1 Byte = 8 bit)
- **측정 방법** : 네트워크 테스트 도구 or 파일 크기(bit) ÷ 전송 시간(s)
- **의미** : 네트워크의 **실질적 전송 능력**
- **영향 요인**

    | 요소 | 설명 |
    | --- | --- |
    | 트래픽 | 특정 시점에 흐르는 데이터 양 |
    | 대역폭 | 전송 가능한 최대 비트 수 (한계치 존재) |
    | 에러율 | 손실률 ↑ → 재전송 발생 → 처리량 감소 |
    | 네트워크 장비 | 스위치·라우터 성능 |
    | 하드웨어 성능 | 서버·네트워크 카드 스펙 |
    | 네트워크 토폴로지 | 병목 구간 최소화 설계 |

### 2.1.1 패킷

데이터 전송할때 작은 조각으로 나누어 전송 이때 작은 조각, 데이터 일부

- 헤더 = 출발지 주소, 목적지 주소, 패킷 크기, 순서 정보 등 포함, 전송하고 수신하는 동안 지표로 사용됨
- 데이터 = 텍스트나 이미지 처럼 작은 조각
- 푸터 = 데이터 무결성 확인, 내용이 중간에 변경되지 않았는지 확인위해 사용

### 2.1.2 패킷 지연(Packet Delay)

- 특정 패킷이 네트워크 통과 시 걸리는 시간
- 지연시간의 하위 개념 (전송·처리·큐잉 지연 포함)
- 각 홉에서 발생하는 지연을 개별적 분석
- vs 지연시간 : 데이터가 출발지에서 목적지까지 도달하는데 걸리는 총시간. 전송/처리/큐잉지연 포함, 패킷이 네트워크 통과하는 동안 모든 지연 요소 포함

### 2.1.3 패킷 손실(Packet Loss)(%)

- 일부 패킷이 목적지에 도달하지 못하는 현상→ 신뢰성 저하, 손실된 패킷은 재전송 필요→ 성능 저하 초래
- **원인**
    - 네트워크 혼잡: 큐에서 대가하다 손실
    - 충돌 : 여러 디바이스가 동시에 데이터 전송할때 충돌 가능. →충돌된 패킷들은 폐기됨
    - 하드웨어 결함 : 케이블의 결함
    - 무선 간섭 : 주변 전파 간섭이나 신호 감도가 낮아 패킷 손실 가능
    - 소프트웨어 오류 : 장비의 설정 오류나 버그
    - 지터 : 지연시간 변동성, 지연시간 안정적이면 지터 낮음
    - 데이터 손상 : 전파 간섭이나 전송오류로 전송 중 왜곡
    - 암호화 복호화 오류
    - 데이터 변조 : 악의적인 공격자가 패킷 내용 변경
    - 전송 오류
    - 라우터 버퍼 오버플로우 : 버퍼는패킷을 일시적 저장 공간. 이게 오버플로우되면 패킷 손실
    - DDoS : 분산서비스 거부 공격은 공격자가 대상 서버나 네트워크에 대량의 트래픽을 보내 패킷 손실이나 네트워크 마비 유발
- **영향** : 재전송으로 인한 성능 저하, 데이터 무결성 손상
- **대응** : QoS, 네트워크 확장, 하드웨어 개선, 라우팅 최적화,정기적 네트워크 모니터링, 신뢰성 있는 프로토콜 사용

### 💡 예시

> 사용자가 많은 시간에 웹 느려지는 이유 = **트래픽이 많고, 처리량(처리되는 트래픽의 양) 한계에 도달했기 때문**
>

---

### 2.2 지연시간(Latency)

- **정의** : 데이터 요청부터 응답까지 걸리는 시간 (End-to-End Delay)
- **RTT(Round Trip Time)** : 왕복 지연 시간(ms)
- 우리에게 끼치는 현상
    - 네트워크 지연시간이 길면 앱 성능 저하, 일정 수준 이상 지연되면 장애→사용자 경험에 직접적 영향
    - 디지털 혁신 추구, 사물인터넷에서 클라우드 기반 앱과 서비스 의존도가 높아지면서 짧은 지연시간이 중요해짐
    - 응답 지연

      → **사용자가 느리게 반응하는 UI나 버벅이는 앱을 경험함**

        - 사용자의 불만 증가
        - 서비스에 대한 신뢰도 하락
        - 이탈률 증가 (특히 쇼핑몰, 검색 등 반응속도가 중요한 서비스)

      → **실시간성이 중요한 서비스에서 품질 저하**

        - 스트리밍 서비스: 영상/음성의 끊김, 버퍼링
        - VoIP / 화상회의: 패킷 도착 시간이 불규칙해지면 지터(jitter) 발생 → 음성/영상 끊김
        - 게임: 입력 지연, 렉 발생

      → **기업 경쟁력 약화**

        - 업무 처리 속도 저하
        - 매출 손실
        - 반응 속도가 중요한 시장에서는 직접적인 비즈니스 손해
- **측정 방법**
    - `ping` : 패킷이 소스에서 대상으로 이동하고 돌아오는데 걸린 시간, 데이터가 여러 네트워크 경로를 통해 이동 가능& 각 이동구간에서 다양한 시나리오 직면할수있기 때문에 이상적 테스트는 아님.
    - `traceroute` : 경로별 홉(hop) 및 홉에서의 지연시간 측정
        - 홉: 네트워크에서 출발지와 목적지 사이에 위치한 경로의 한 부분, 이동할때 거치는 네트워크 장비수( 목적지까지 AB 경유지가 있다면 3개의 홉 존재)
    - 전문 툴(TWAMP, 시스코 Skylight, 주니퍼Pagagon 등)
- **영향 요인**

    | 요소 | 설명 |
    | --- | --- |
    | 전송 매체 | 유선이 무선보다 빠름 |
    | 패킷 크기 | 크면 처리시간 증가 |
    | 라우터 처리 속도 | 홉 수 많을수록 지연 증가 |
    | 거리 | 멀수록 지연 증가 |
    | 네트워크 정체 | 네트워크 트래픽이 증가하면 데이터 패킷이 목적지로 가는 경로 길어짐 |
    | 프로토콜 효율성 | 보안을 위한 추가 프로토콜의 핸드셰이크 단계로 지연 발생 |
    | 하드웨어 성능 | 서버가 처리할수있는것 보다 많은 데이터를 수신하면 패킷 지연→ 속도 느려짐 |
    | 사용자 측 요인 | 대역폭 부족, 연결 불량 |
    | 네트워크 인프라 | 네트워크 장치 과부하로 패킷 손상 → 재전송→ 지연시간 증가 |

---

### 3. 지연시간·처리량 개선 방법

- 네트워크 장비 업그레이드
- 사용자와 가까운 서버 배치
- 실시간 성능 모니터링
    - 모의 API테스트 및 최종 사용자 경험 분석과 같은 기능 수행 - 실시간 네트워크 지연시간 확인, 문제 발생시 즉각 대응
- 서브넷팅(Subnetting)으로 불필요한 홉 최소화
    - 자주 통신하는 네트워크 엔드포인트 그룹화→비효율적인 라우팅 줄이기
    - 서브넷: 하나의 IP네트워크를 나눈 작은 네트워크 단위g
- 트래픽 쉐이핑(Traffic Shaping)으로 패킷 우선순위 설정
- CDN(Content Delivery Network) 활용
    - 전세계적으로 분산된 서버 이용하여 사용자와 가까이 위치에서 데이터 제공
- QoS(Quality of Service) 설정
    - 중요 데이터 패킷에 우선순위 부여하기



---

### 4.3 라우터

---

### 5. 상호 관계

| 관계 | 설명 |
| --- | --- |
| 지연시간 ↔ 지터 | 지연시간 변동이 클수록 지터 증가 |
| 지연시간 ↔ 패킷 손실 | 높은 지연시간 → 패킷 손실 가능성 ↑,
패킷 손실 발생 → 재전송으로 인한 지연시간 추가 |
| 지터 ↔ 패킷 손실 | 지터 높음 → 패킷 손실 ↑, 재전송으로 지연 증가→ 지터 증가 가능 |

---

## 네트워크 토폴로지와 병목현상 개념 정리

---

### 1. 네트워크 토폴로지(Topology)

- **정의** : 노드(장치)와 링크(연결선)의 물리적 연결 형태
    - **물리적 토폴로지** : 실제 케이블·장비 연결 구조
    - **논리적 토폴로지** : 데이터가 흐르는 경로와 방식
- **의의** : 병목현상 원인 분석, 데이터 효율성 향상 → 운영비·관리비 절감

---

### 1.1 토폴로지 유형별 특징

| 유형 | 구조·특징 | 장점 | 단점 | 병목현상 |
| --- | --- | --- | --- | --- |
| **트리(Tree)** | 계층형 구조 (스타+버스 혼합) | 노드 추가·삭제 용이, **유연→**광역망 사용, 우선순위·백본망 구성 가능하여 데이터 통신 트래픽에 따라 최적화가능 | 중앙노드 문제 시 하위 전체 영향, 관리 복잡, 비용↑ | 중앙허브에 문제 생기면 가지 시스템들 연결 끊어짐.
안전성 = 구조의 뿌리인 중앙노드 |
| **버스(Bus)** | 중앙 회선(버스)에 여러 노드 연결, 선형 구조 | 설치·유지 비용 저렴, 소규모 LAN 적합, 추가·삭제 쉬움 | 대역폭 한계로 충돌·병목, 기밀보장 어려움, 스푸핑 위험 | 버스 대역폭이 한정되어 여러 장치가 동시에 데이터를 전송할 경우 |
| **스타(Star)** | 모든 노드가 중앙노드(허브/스위치)와 직접 연결 | 에러 탐지 용이, 안정성↑, 유지관리 편리 | 중앙노드 장애 시 전체 마비, 설치 비용↑ | **중앙허브의 처리능력이 한계** |
| **링(Ring)** | 각 노드가 양옆 노드와 연결, 고리 형태 | 충돌 없음, 거리 제약 적음, 고장 탐지 쉬움 | 한 노드 문제 시 전체 영향, 구성 변경 어려움 | 장치 하나에 문제 생기면 전체 중단 |
| **메시(Mesh)** | 모든 노드가 여러 경로로 연결 | 병목 최소화, 장애·보안 강점, 복원력 우수 | 구축·운영 비용↑, 복잡성↑ | 가장 최소화, 부분 메시형에서 일부 노드에 트래픽 집중될수있음 |

스푸핑 : 송신 패킷이 다른 호스트로 전송되지 않도록 하는 스위칭 기능 마비→악의적인 노드로 가게됨

---

### 2. 병목현상(Bottleneck)

- **정의** : 특정 지점에 트래픽이 집중되어 전체 성능이 저하되는 현상
- **형태** : 네트워크 병목, CPU 병목, 디스크 병목 등
- **특징**
    - 데이터 흐름이 한계에 도달 → 속도 개선 불가·지연 발생
    - 네트워크에서는 핫스팟(Hotspot)이라고도 함
    - 토폴로지 분석으로 병목 지점 파악 가능

---

### 3. 네트워크 분류(규모 기반)

| 유형 | 범위·특징 |
| --- | --- |
| **LAN** | 근거리(건물·학교 등), 속도 빠름, 혼잡 적음, 버스·링형 사용,개인 소유 가능,고속통신 가능, 정보 오류율 낮음, 확장 간편, 원거리의 다른 LAN과 접속 쉬움 |
| **MAN** | 대도시 규모, 속도 중간, LAN 연결 집합,LAN보다 혼잡,음성과 데이터 모두 전송 |
| **WAN** | 국가·대륙 규모, 속도 낮음, 혼잡·에러율 높음, 통신사 관리 |

---

### 4. 네트워크 동작 원리별 분류

1. **P2P(Peer-to-Peer)**
    - 서버·클라이언트 구분 없음, 모든 사용자들은 서로의 자원을 네트워크를 통하여 공유, 파일 공유·암호화폐 등에 사용
2. **Client/Server**
    - 서버가 자원 관리, 클라이언트 요청 시 제공

---

### 5. 데이터 전송 방식별 분류

| 방식 | 설명 | 장점 | 단점 | 예시 |
| --- | --- | --- | --- | --- |
| **회선 교환망** | 통신 전 전용 선로 설정, 끝까지 독점 사용 | 전송 지연 거의 없음 | 접속 시간 길음, 자원 비효율적 | ex) 전화망, 전화 걸때 교환기에 의해 폐쇄 회로가 일시적으로 만들어짐 |
| **패킷 교환망** | 데이터를 패킷 단위로 분할·주소(발진지와 수신지의 주소) 포함 패킷 교환망에 전송,패킷 교환기가 그 주소를 보고 최종 목적지까지 전달 | 네트워크 효율↑, 유연한 경로 선택 | 경로별 지연 차이 가능 |  |
| **셀 교환망** | 망내에서 프로토콜을 간략화하여 데이터를 셀이라 부르는 패킷단위로 전송,고정 크기 셀(53byte) 단위 전송, 고속성 실현, header 5 byte와 data 48byte로 구성된 셀을 전송 | 고속(셀은 전송에 필요한 최소 기능만 담당하고 흐름제어와 오류제어는 단말 간에서 처리하게 함으로써 회선 교환과 같은 고속성을 실현)·저지연 | 구현 복잡, 장비 비용↑ | 비동기 전송 |

---

### 6. 네트워크 통신 방식

- **유니캐스트** : 같은 네트워크 대역에서 여러 사용자가 있을때 특정 1:1 통신
- **멀티캐스트** : 같은 네트워크 대역에서 여러명의 사용자가 있을때  특정 다수와 통신
- **브로드캐스트** : 같은 네트워크 대역에서 여러명의 사용자가 있을때  네트워크 내 모든 대상과 통신

---

## 네트워크 성능 분석 명령어 & 프로토콜 개념 정리

---

### 1. 네트워크 성능 분석 개요

- **목적** : 특정 서비스에서 데이터를 정상적으로 가져오지 못할 때, 네트워크 **병목현상** 여부를 진단
- **주요 원인**
    - 대역폭 부족
    - 비효율적 토폴로지
    - 서버 CPU/메모리 과부하
    - 네트워크 구성 비효율적

---

### 2. 주요 명령어

| 명령어 | 기능 | 특징 | 예시 |
| --- | --- | --- | --- |
| **ping** | 네트워크 상태 확인,특정 노드에 일정 크기 패킷을 보내 연결 상태 측정,대상 노드와 연결 상태, 응답 시간 측정 | ICMP 프로토콜 사용, 패킷 손실 여부 확인,traceroute 차단 시 사용 불가 | `ping www.google.com -n 12` (12회 요청) |
| **netstat** | 현재 열린 포트·연결 상태 확인 | 서비스별 포트 점검, 연결 수 분석 | `netstat -an` |
| **nslookup** | DNS 정보 조회 | 도메인 ↔ IP 주소 매핑 확인 | `nslookup www.google.com` |
| **tracert** / **traceroute** | 목적지까지의 네트워크 경로 추적 | 각 홉(Hop)별 지연시간 확인 | `tracert www.google.com` |
| **ftp** | 대용량 파일 전송 테스트 | 실제 대역폭·전송속도 측정 가능 | `ftp [host]` |
| **tcpdump** | 패킷 캡처·트래픽 분석 및 침해 탐지에 사용,네트워크 문제 해결 및 보안테스트를 위해 가장 많이 사용 | CLI 기반, TCP 외 프로토콜도 분석 가능 | `tcpdump -i eth0` |

---

### 3. 네트워크 분석 도구

- **Wireshark** : GUI 기반 패킷 분석 툴, 실시간 트래픽 분석
- **Netmon** (Microsoft Network Monitor) : 윈도우 환경 전용 분석 도구

---

### 4. 네트워크 프로토콜 표준화

### 4.1 정의

- **프로토콜** : 서로 다른 장치 간 **데이터 송수신 인터페이스**
- 표준화 기구 : IEEE, IETF 등

### 4.2 필요성

- 제조사 상이해도 통신 가능
- 데이터 전송 규칙 통일
- 오류 방지·신뢰성 확보

---

### 5. 주요 프로토콜 예시

| 구분 | 프로토콜 | 설명 |
| --- | --- | --- |
| **근거리 통신** | Ethernet | MAC 주소 기반 데이터 송수신 |
| **원거리 통신** | ICMP, IPv4, ARP | IP 주소 기반 통신, 경로 탐색·주소 변환 |
| **프로그램 간 통신** | TCP, UDP | 포트 번호 기반 전송, 연결 지향/비연결 지향 |
| **웹 통신** | HTTP | 브라우저-서버 간 요청/응답, GET/POST 구조,텍스트 기반 |

---

### 6. HTTP 특징

- **HTTP(Hypertext Transfer Protocol)**
    - 웹 브라우저 ↔ 웹 서버 간 데이터 요청/응답
    - 텍스트 기반, 상태 비유지(Stateless)
    - 메서드 : GET, POST, PUT, DELETE 등

---

## TCP/IP 4계층 모델 — 개념 정리

---

### 1) 한눈에 보기

**인터넷 프로토콜 스위트(**서로 정보를 주고받을때 쓰이는 프로토콜의 집합)

- **TCP/IP =**

  네트워크 통신을 위해 정의된 프로토콜 집합을 **4개 계층**으로 나눠 설계.

- **핵심 성격**
    - **IP**: 인터넷 프로토콜,최단 경로로 **패킷 전달**에 집중(순서/유실 보장 X).
    - **TCP**: 전송제어 프로토콜,**신뢰성(패킷 손실시 재요청)·순서 보장·흐름/혼잡 제어**로 안정 전송.바이트 스트림 통한 연결, HTTP EMAIL 에서 사용
    - **UDP**: **비연결/비보장**, 지연 최소화가 목적(IP와 거의 같지만 포트+체크섬(메시지 검증하는 데이터) 추가).순서 보장x.,메시지 스트림 통한 연결,도메인, 실시간 동영상 서비스에서 사용
- OSI 7계층

---

### 2) 계층 구조(계층형 아키텍처)

> 계층 독립성: 한 계층 변경이 다른 계층에 최소 영향 → 안전성,신뢰성,유지보수·확장 용이.
만든 이유 : 네트워크 관리자는 어떤 문제의 원인이 어디에 있는지 범위 좁힐수있어 해당 계층에서 해결 가능. 즉 계층마다 자신의 책임 범위내에서 독립적으로 동작
장점: 모듈화(계층이 독립적으로 설계되어있어 하나를 수정해도 다른데는 영향없음),표준화(다양한 시스템과 기기간 호환성 보장)간소화(자신의 역할에만 집중하므로 복잡한 네트워크 통신 단순화)
>

### 2-1) TCP/IP 4계층 구조

| 계층 | 대표 프로토콜 | 핵심 역할(요약) |
| --- | --- | --- |
| **애플리케이션** | HTTP, FTP/TFTP, SSH, SMTP, DNS, SNMP | 사용자에 보이는 서비스 계층(브라우저/메일 등). 응용프로그램이 사용되는 프로토콜 계층 |
| **전송** | **TCP**, **UDP** | 송수신자 간 데이터 **전송 보장 및 흐름 제어,시스템의 논리 주소와 포트 갖고있어 상위계층의 프로세스를 연결해서 통신**, 오류·흐름·혼잡 제어(TCP), 빠른 전송(UDP) |
| **인터넷** | **IP**, ARP/RARP, ICMP | **IP 주소 기반 라우팅**, 경로 결정, 오류/제어(ICMP), 주소 해석(ARP),라우팅 및 패킷 주소 지정, 상위 전송계층에서 받은 데이터에 IP패킷 헤더를 붙이고 전송 |
| **링크(네트워크 액세스)** | 이더넷(802.3), Wi-Fi(802.11) 등 | **프레이밍**(MAC 주소 포함), 매체 접근 제어, **물리 전송**으로 전달,실제 하드웨어 간 데이터 전송, 송신측:패킷에 물리적인 주소 MAC주소 정보를 가지고 있는 헤더를 추가하여 프레임을 만들고 프레임을 하위계층인 물리계층으로 전달,수신측: 데이터 링크계층에서 추가된 헤더를 제거하여 네트워크 계층으로 전달 |

### 2-2) OSI 7계층과 대응/의의

- 국제 표준화기구ISO에서 개발한 컴퓨터 네트워크 프로토콜 모델
- 네트워크 통신 프로토콜을 표준화하기위해 등장→호환성향상
- **OSI**는 기능을 더 세분화(7계층). TCP/IP는 실사용 중심(4계층).
- OSI의 추가 계층: **프레젠테이션**(암복호/변환), **세션**(대화·동기화).
- **암기 팁(OSI)**: **A**pplication **P**resentation **S**ession **T**ransport **N**etwork **D**ataLink **P**hysical

  → *“펭귄은 아무도 펩시를 마시지 않는다고 했다”*


---

# OSI 7계층

## 애플리케이션 계층

- **HTTP**(웹), **FTP/TFTP**(파일 전송: TCP/UDP), **SSH**(보안 원격), **SMTP**(메일 전송), **DNS**(이름↔IP), **SNMP**(장비 모니터링)
- **특징**: 사용자에 직접 서비스 제공(브라우저 등).**응용프로그램,인터페이스역할**

## 프레젠테이션 계층

**애플리케이션의 데이터를 네트워크에 전송하기위해 요구되는 형식으로 조작,암호화 복호화**

## 세션 계층

**서버간 대화가 필요하면 세션 필요.연결 유지, 세션의 유지및 인증 보안담당, 연결 세션에서 데이터 교환, 에러발생시 복구관리(논리적 연결담당) 전송단위 : 메시지, 응용프로그램간 연결 지원해주는 층**

---

## 전송 계층

### 1) 중계·제어 역할

- 송신자와 수신자 연결 서비스 제공
- 연결지향 데이터 스트림 지원
- 애플리케이션 ↔ 인터넷 계층 사이에서 **데이터 전달 중계**
- **신뢰성, 흐름 제어, 오류 제어** 담당(TCP)
- 데이터 단위 = 세그먼트
- 상위 데이터 **세그먼트화**, **포트**로 프로세스 식별,서비스를 구분하고 데이터의 전송방식을 담당하는층.오류 검출 및 복구
- **송신 측**: 세그먼트 생성(+소스/목적지 포트), 제어 구현 후 **네트워크(인터넷) 계층**으로 전달. 상위 계층에서 형식화된 데이터를 수신하고 세그멘테이션을 **수행하며 흐름 및 오류 제어를** 구현하여 적절한 데이터 전송을 보장합니다. 또한 헤더에 소스 및 대상 포트 번호를 추가하고 세그먼트화된 데이터를 네트워크 계층으로 전달합니다.
- **수신 측**: 포트로 적절한 앱에 **재조립·인계**.포트번호 관리하여 수신된 데이터가 어느 응용프로그램에 전송될지 판독,헤더에서 포트 번호를 읽고 수신한 데이터를 해당 응용 프로그램으로 전달합니다. 또한 분할된 데이터의 시퀀싱 및 재조립을 수행합니다.**이 때 송신측은 수신측의 어플리케이션과 연결된 포트번호를 알아야합니다.**

### 2) TCP vs UDP

| 구분 | **TCP** | **UDP:**개발자가 따로 신뢰성을 보장해야함 |
| --- | --- | --- |
| 연결 | 연결지향(가상회선) | 비연결(데이터그램) |
| 신뢰/순서 | **보장 O**(ACK/재전송/순서) | **보장 X**, 지연↓, **속도 빠름, 신뢰 낮음** |
| 용도 | 웹/이메일/파일 등 정확성 | 스트리밍/VoIP/게임 등 실시간 |
| 기타 | 초기 설정(오버헤드) 존재,가상회선 패킷 교환방식(가상회선 식별자가 포함되어 모든 패킷을 전송하면 가상회선이 해제되고 패킷들은 전송된 순서대로 도착)
단점= 연결위한 초기설정 시간 걸림 | 경로 독립, 네트워크 부하↓ 가능,데이터만 전달하는 데이터그램 패킷 교환방식(패킷이 독립적으로 이동하며 최적의 경로를 선택하여 감, 도착 순서가 다를수있음), 네트워크 부하 줄일수있음 |

### 3) TCP 3-Way Handshake (연결 성립)

- **Port 상태**: LISTEN → SYN-SENT/SYN-RCVD → **ESTABLISHED**
    - **LISTEN** : 포트가 열린 상태로 연결 요청을 대기하는 상태
    - **SYN-SENT** : 연결 요청을 하고 Server의 ACK를 기다리는 상태
    - **SYN_RCVD** : 연결 요청에 응답/연결을 요청하고 Client의 응답을 기다리는 상태
    - **ESTABLISHED** : 연결된 상태
1. **클라이언트 → 서버: SYN**(client_ISN)
    - **연결을 요청**하는 **SYN Segment를 보낸다**.
        - Segment Header의 **SYN bit를 1로 설정**한다.
        - **Sequence Number**는 **클라이언트**의 **최초 순서 번호(client_isn)**로 설정한다. (isn = initial sequence number)
        - Application Layer의 데이터를 포함하지 않는다.
        - SYN Segment를 전송한 후 **SYNSENT** 상태로 **서버**의 **ACK Segment를 기다린다**.
    - **서버**는 **클라이언트**로부터 **SYN Segment를 수신**한다.
    - 클라이언트의 ISN (Initial Sequence Number 새로운 TCP연결의 첫 패킷에 할당된 32비트의 임의 시퀀스 번호) 포함하여 SYN보냄
2. **서버 → 클라이언트: SYN+ACK**(ACK=client_ISN+1, server_ISN)
    1. 서버가 SYN수신 확인 후 응답
    - SYN Segment에 대한**ACK Segment를 전송**한다.
        - **Acknowledge Number**는 **client_isn + 1** 로 설정한다.
        - **Sequence Number**는 **서버**의 **최초 순서 번호(server_isn)**로 설정한다.
    - 동시에 **서버**가 **클라이언트**에게 연결을 요청하는 **SYN Segment를 전송**한다.
        - **SYN bit를 1로 설정**한다.
        - SYN/ACK Segment를 전송하고 **SYN RCVD**의 상태로 **클라이언트**의 ACK를 기다린다.
    - **클라이언트**는 ACK Segment을 받고 연결이 완료된 **ESTAB** 상태가 된다.
    - 서버의 ISN과 승인번호(클라이언트 ISN + 1)을 ACK로 전달
    - **두 과정은 서로에게 영향을 끼치지 않고 독립적**이다. 따라서, Segment 정보를 **동시에 전송**함으로써 1개의 Handshake로 처리할 수 있고, **네트워크 트래픽을 절약**할 수 있다.
3. **클라이언트 → 서버: ACK**(ACK=server_ISN+1) → 연결 성립
    1. 서버의 ISN + 1을 승인번호로 담아 ACK를 서버에 보냄→ 연결 성립
    - SYN Segment에 대한 **ACK Segment를 전송**한다.
        - 연결 요청이 아니기 때문에 **SYN bit를 0으로 설정**한다.
    - **서버**는 ACK Segment를 받고 연결이 완료된 **ESTAB** 상태가 된다.

→이후 신뢰성 구축 → 데이터 전송 시작

👉 이 과정을 통해 **데이터 전송의 안정성과 순서 보장** 확보, UDP는 해당 부분이 없어서 신뢰성 없음

### 4) TCP 4-Way Handshake (연결 종료) & **TIME_WAIT**

1. **FIN**(C → S) → `FIN_WAIT_1`
2. **ACK**(S → C) → C:`FIN_WAIT_2`, S:`CLOSE_WAIT`
3. **FIN**(S → C)
4. **ACK**(C → S) → S:`CLOSED`, C:`TIME_WAIT` 후 `CLOSED`
- **TIME_WAIT**: 지연 패킷 흡수·중복 방지·재연결 충돌 방지(OS마다 유지시간 상이).

### 5) 보안 이슈

- **SYN Flooding**: 대량 SYN로 자원 고갈 → 방화벽 룰, SYN backlog 확대 등으로 완화.

---

## 인터넷 계층

- **IP 주소 기반 라우팅**(비연결·비보장), 출발/목적지 정보 캡슐화.비연결형 → 수신 보장 X
- **주요 프로토콜**
    - **IP**: 주소 지정·경로 결정(포워딩/라우팅)
    - **ARP**: IP→MAC 주소매핑,브로드캐스트 요청, 유니캐스트 응답
    - **RARP**: MAC→IP 해석,브로드캐스트 요청, 유니캐스트 응답
    - **ICMP**: 오류/제어 메시지(ping 등)

---

## 링크(네트워크 액세스) 계층

> OSI 7계층 기준으로는 데이터링크 계층 + 물리 계층을 포함하는 계층
>
>
> IP 패킷을 **물리적인 네트워크 매체를 통해 실제로 전송**하는 역할
>

### 1) 공통 역할 (링크 계층 전체)

- **IP 패킷을 프레임으로 캡슐화**하고, **물리 매체(케이블, 무선 등)를 통해 전송**하는 계층
- **MAC 주소 기반**으로 **직접 연결된 장치 간 데이터 전송** 수행
- **프레이밍(Framing)**: 데이터를 프레임 단위로 나누고 시작/종료를 표시하여 구분 가능하게 함
- **오류 검출**: 프레임 끝에 **CRC** 같은 오류 검출 코드를 첨부하여 손상 여부 확인
- **흐름 제어 & 매체 접근 제어**: 장치 간 충돌 방지 및 데이터 전송량 조절

## ✅ 데이터링크 계층 (Data Link Layer)

### 🧩 주요 역할

| 기능 | 설명 |
| --- | --- |
| **프레이밍** | 전송할 데이터를 **프레임 단위**로 분할 및 캡슐화 |
| **MAC 주소 처리** | 프레임에 **출발지/목적지 MAC 주소** 포함 |
| **오류 검출** | **CRC** 방식 등으로 프레임 손상 여부 확인 |
| **흐름 제어** | 송신/수신 속도 차이 조절 (데이터 손실 방지) |
| **매체 접근 제어(MAC)** | 여러 장치가 공유 매체 사용 시 충돌 방지 (예: CSMA/CD) |
| **전송 단위** | **프레임 (Frame)** |

## ✅ 물리 계층 (Physical Layer)

### 🧩 주요 역할

| 기능 | 설명 |
| --- | --- |
| **비트 전송** | 데이터를 **0과 1의 신호**로 변환하여 물리 매체에 전달 |
| **인코딩/디코딩** | 데이터를 전기/광학/무선 신호로 인코딩, 수신 측에서 디코딩 |
| **전송 매체 연결** | 케이블, 라우터, 허브 등과의 **물리적 연결 담당** |
| **데이터 전송 방향** | 단방향(단방향), 양방향(전이중/반이중) 설정 |
| **전송 단위** | **비트 (Bit)** |

### 프레임이란?

- **물리적 매체로 데이터를 전송하기 위해 캡슐화한 논리적 전송 단위**

### 프레이밍이 필요한 이유?

- **물리적 전송 매체는 데이터의 시작/끝을 구분할 수 없기 때문에**,

  **프레임의 경계를 식별**할 수 있도록 프레임 마커를 붙여 전송


### 2) 유선 LAN — **IEEE 802.3**

- **전이중(Full-Duplex)**: 동시 양방향 송수신(현대 고속 이더넷 기본).송신로&수신로 나눠서 데이터 주고받음
- **케이블**
    - TP케이블: 트위스트 페어 케이블 = 실제로 8개의 구리선을 2개씩 꼬아 묶은 케이블, 짧은 거리
        - **UTP**: 저렴·간편(간섭 취약),가장 흔한 LAN 케이블, 실드 처리안하고 덮음, 잡음에 민감
            - LAN케이블 꽂는 RJ-45커넥터
        - **STP**: 실드처리하고 덮음, 외부간섭으로 부터 더효과적 보호
    - **광섬유**: 레이저 기반,100Gbps의 데이터를 전송, 한번 들어간 빛이 내부에서 계속 반사하며 전진하여 반대 끝까지 가는 원리, 굴절률 높은곳이 코어& 낮은곳이 클래딩,빛의 전반사 원리 이용
        - 높은 대역폭: 광섬유는 매우 높은 대역폭을 제공하며, 이는 대량의 데이터를 빠르게 전송할 수 있다.
        - 장거리 전송: 긴 거리에 걸쳐 안정적인 데이터 전송을 제공한다.
        - 전기적 간섭 없음: 전기 신호가 아닌 빛을 사용하기 때문에 전기적 간섭에 영향을 받지 않는다.→ 안정적이고 신뢰성이 높은 데이터 전송
        - 설치 비용이 상대적으로 높다.

### 3) 무선 LAN — **IEEE 802.11 (Wi‑Fi)**

- **반이중(Half-Duplex)**: 동시에 송·수신 불가 → 충돌 회피 필수, 한쪽씩만 송/수신 가능,응답하기 전에 전송 완료될때까지 기다림, 둘이상 장치가 동시에 전송하면 충돌 발생해서 메시지 손실 왜곡 가능성 존재해서 충돌방지 시스템 필요(이전 유선 LAN에서 CSMA/CD사용=데이터를 보낸 이후 충돌이 발생한다면 일정 시간 이후 재 전송하는 방식,한 경로를 기반으로 데이터 보내기 때문에 충돌에 대해 대비)
- **CSMA/CA(충돌 회피)** 절차(요지)

  장치에서 데이터를 보내기전에 일련의 과정을 기반으로 사전에 충돌 방지 방식

    - 사용중 채널 있으면 다른 채널 감지하다 유후 상태 채널을 발견
    - 프레임간 공간 시간인 IFS시간만큼 기다림(IFS가 낮을 수록 우선순위 높아짐)
    - 프레임 보내기전 0~2k승-1사이에서 결정된 랜덤 상수로 결정된 시간만큼 기다린뒤 프레임 보냄. 보낸뒤 제대로 송신이 되었고 ACK세그먼트를 받앗다면 마침. 받지 못하면 k=k+1만큼 반복. 반복하다가 k가 정해전Kmax보다 커지면 해당 프레임 전송 버림.
    - 무선 채널이 Idle한지 여부를 Sensing (전파 이용)
    - 채널이 사용 중이면 다른 채널을 Sensing하거나, Idle하면 IFS만큼 대기→ IFS (Inter Frame Space): 충돌을 피하기 위해 프레임 전송 간의 간격
    - 채널이 Idle하면 (0, 2^k - 1) 범위의 random한 값만큼 대기한 후 프레임을 전송
    - 프레임을 전송하고 ACK를 받으면 송신이 완료되었다고 간주하고 종료
    - ACK를 받지 못하면 k 값을 증가시키고, k 값이 kmax를 넘어서면 해당 프레임을 버리고 전송을 중단
- **주파수 대역**
    - 무선신호 전달 방식 이용하여 2대이상의 장치 연결 기술
    - 공기에 주파수 쏘아 무선 통신망 구축, 주파수 대역은 2.4GHz혹은 5GHz중 하나
    - **2.4 GHz**: 장애물 강함/간섭 多/속도↓/호환성↑
    - **5 GHz**: 채널 多/간섭 적음/속도↑/범위↓/호환성↓
- 무선 활용
    - 와이파이
        - 무선 LAN신호에 연결
        - 무선접속장치AP 필요(공유기) → 유선 LAN에 흐르는 신호를 무선 LAN으로 바꿔주어 신호가 닿는 범위내에서 무선 인터넷을 사용할수있게 됨.
    - **BSS**: 기본 서비스 집합. 동일 BSS내 있는 AP와 장치들이 서로 통신 가능한 구조. 근거리 무선 통신. 하나의 AP만을 기반으로 구축되어 사용자가 한 곳에서 다른 곳으로 이동하며 네트워크 접속 불가
    - **ESS**: 하나 이상의 연결된 BSS그룹. 장거리 무선 통신. 한장소에서 다른 장소로 이동하며 네트워크에 계속 연결 가능

---

## 계층 간 데이터 송수신

### 1) **캡슐화(송신):**

> 상위계층의 헤더와 데이터를 하위계층의 데이터 부분에 포함 & 해당 계층 헤더 삽입
>

📤 예시: 클라이언트에서 서버로 요청 전송

```

애플리케이션:  메시지
   ↓ (TCP/UDP 헤더 추가, 세그먼트화)
전송:         세그먼트/데이터그램
   ↓ (IP 헤더 추가, 패킷화)
인터넷:       패킷
   ↓ (프레임 헤더/트레일러 추가)
링크:         프레임
   ↓
물리:         비트 전송

```

### 2) **비캡슐화(수신)**

> 수신 측에서 상위 계층으로 데이터 전달할 때, 각 계층의 헤더를 제거하는 과정
>

📥 예시: 서버가 클라이언트의 요청 수신

```

물리:  비트
   ↓
링크:  프레임 → 이더넷 헤더 제거
   ↓
인터넷: 패킷 → IP 헤더 제거
   ↓
전송:  세그먼트/데이터그램 → TCP/UDP 헤더 제거
   ↓
애플리케이션: 최종 메시지

```

### 3) **PDU 요약**

> 각 계층에서 데이터 단위를 부르는 명칭, 헤더(제어정보 포함) + 페이로드(데이터)
비트로 송수신하는게 가장 빠르고 효율성이 높지만 문자열 기반으로 송수신하는데 헤더에 authorization값등 다른값들을 넣는 확장이 쉽기 때문
>

| 계층 | PDU | 설명 |
| --- | --- | --- |
| 애플리케이션 | **메시지** | 사용자 데이터 |
| 전송 | **세그먼트(TCP)** / **데이터그램(UDP)** | TCP는 세그먼트, UDP는 데이터그램 |
| 인터넷 | **패킷** | IP주소 기반 라우팅 정보 포함 |
| 링크 | **프레임**(데이터링크) / **비트**(물리) | MAC주소 포함, 실제 전송 단위 |
| 물리 | **비트** | 0과 1로 이루어진 신호 전송 |

---

## 전체 흐름 예시(요약)

1. 앱이 **HTTP 요청** 생성 →
2. 전송계층이 **포트/SEQ/ACK** 등 붙여 **세그먼트** 생성,데이터 HTTP메시지 를 통신하기 쉽게 조각내어 안내번호와 포트