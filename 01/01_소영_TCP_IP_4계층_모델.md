> 이 포스팅은 주홍철 저 '면접을 위한 CS 전공지식 노트' 2.2장을 토대로 작성되었습니다.

## 🪜 계층 구조

-   인터넷 프로토콜 스위트(internet protocol suite): 인터넷에서 컴퓨터들이 서로 정보를 주고받는 데 쓰이는 프로토콜의 집합

이를 TCP/IP 4계층 모델 또는 OSI 7계층 모델로 설명할 수 있습니다.

책에서는 TCP/IP 4계층 모델을 중심으로 설명하고 있습니다.

---

## 🪜 TCP/IP 4계층과 OSI 7계층

<img width="1117" height="609" alt="image" src="https://github.com/user-attachments/assets/7a8b4bd3-2601-442c-99ff-b341c1830666" />

OSI 7계층은 TCP/IP 4계층을 조금 더 잘게 쪼갠 모델입니다.

애플리케이션 계층을 3개의 층(애플리케이션, 프레젠테이션, 세션)으로 쪼개고, 링크 계층을 2개의 층(데이터 링크, 물리)로 쪼개고, 인터넷 계층을 네트워크 계층이라 부른다는 차이가 있습니다.

TCP/IP 4계층의 링크 계층을 네트워크 액세스 계층이라고도 부릅니다.

각 계층마다 하는 일과 역할이 명확히 구분되어

특정 계층이 변경되었을 때 다른 계층에는 영향이 없도록 설계되었습니다.

(예를 들어 전송 계층에서 TCP를 UDP로 변경해도 인터넷 브라우저를 다시 설치해야 하는 것은 아닙니다.)

---

### 📰 TCP/IP 계층 - 애플리케이션 계층 (application)

-   웹 서비스, 이메일 등 사용자에게 실질적인 서비스를 제공하는 층
-   주요 프로토콜: FTP, HTTP, SSH, SMTP, DNS

> **FTP**: 장치 간의 파일을 전송하는 데 사용되는 표준 통신 프로토콜  
> **SSH**: 보안되지 않은 네트워크에서 네트워크 서비스를 안전하게 운영하기 위한 암호화 네트워크 프로토콜  
> **HTTP**: 웹 사이트를 이용하는 데 쓰는 프로토콜  
> **SMTP**: 이메일 전송을 위한 인터넷 표준 프로토콜  
> **DNS**: 도메인 이름과 IP 주소를 매핑해주는 서버

---

### 📨 TCP/IP 계층 - 전송 계층 (transport)

-   송신자와 수신자를 연결하는 통신 서비스 제공
    -   애플리케이션 계층에서 전달받은 데이터를 목적지 애플리케이션까지 도착시키는 역할
-   애플리케이션 계층과 인터넷 계층 사이의 데이터 전달 중계 역할
-   연결 지향 데이터 스트림 지원, 신뢰성, 흐름 제어 기능 제공
-   주요 프로토콜: TCP, UDP

#### TCP와 UDP 비교

TCP와 UDP의 차이점을 간단하게 정리하자면 다음 표와 같습니다

**TCP는 신뢰성이 높지만 느리다**와 **UDP는 신뢰성이 낮지만 빠르다** 정도입니다.

|   | **TCP** | **UDP** |
| --- | --- | --- |
| 연결 방식 | 연결 지향 | 비연결형 |
| 전송 순서 보장 | 보장함 | 보장하지 않음 |
| 신뢰성 | 높음 | 낮음 |
| 전송 속도 | 느림  | 빠름    |

또한 TCP는 흐름 제어, 혼잡 제어, 오류 복구를 지원합니다.

-   오류 복구: 수신자가 ACK를 보내지 않으면, 데이터를 제대로 받지 못한 것으로 보고 패킷을 재전송
-   흐름 제어: 수신자의 처리 속도에 맞춰 전송량 조절
-   혼잡 제어: 네트워크 혼잡 상태를 감지해 전송 속도 조절

#### 가상회선 패킷 교환 방식

데이터를 전송할 때 패킷 단위로 쪼개서 이동합니다.

TCP 프로토콜은 **패킷 사이의 순서를 보장**하고, 연결지향 프로토콜을 사용해 연결을 하여 **신뢰성을 구축해서 수신 여부를 확인**하는 "가상회선 패킷 교환 방식"을 사용합니다.

<img width="592" height="437" alt="image" src="https://github.com/user-attachments/assets/a047a321-0a1e-4910-8031-18a6c4f4b6b4" />

가상 회선이란, 송신자와 수신자 사이에 논리적인 경로(물리 X)를 미리 설정하고,

해당 결로를 따라 모든 패킷이 같은 순서로 이동하는 방식입니다.

각 패킷에는 가상회선 식별자(VCI)가 붙는데, 이 식별자를 통해 네트워크 노드들은 다음에는 어디로 보내야하는지 알 수 있습니다.

모든 패킷이 동일한 경로를 거치기 때문에 패킷들은 **전송된 순서대로** 도착합니다.

그림에서는 색깔 있는 선이 가상 회선이 되고, 패킷들이 순서대로 이 회선을 따라 전송되어 순서대로 도착하고 있습니다.

가상회선은 물리적 회선처럼 계속 유지되는 게 아니라 이 한 번의 통신이 끝나면 해제됩니다.

> MEMO  
> 책과 몇몇 블로그에서는 TCP가 순서 보장을 위해 가상회선 패킷 교환 방식을 쓴다고 하는데  
> 내가 아는 방식은 패킷마다 시퀀스 번호를 부여하여 순서를 보장하는 방식이라 헷갈린다.  
> 일단 책을 따라 작성하되, TCP가 가상회선 패킷 교환 방식을 쓰는지에 대해는 공부가 조금 더 필요하다.  
> 참고 링크:   
> [https://mangkyu.tistory.com/15](https://mangkyu.tistory.com/15) [https://www.quora.com/Does-TCP-use-virtual-circuit-switching](https://www.quora.com/Does-TCP-use-virtual-circuit-switching) [https://networkengineering.stackexchange.com/questions/6307/does-tcp-use-virtual-circuit-model](https://networkengineering.stackexchange.com/questions/6307/does-tcp-use-virtual-circuit-model) [](https://www.quora.com/Does-TCP-use-virtual-circuit-switching)[https://blog.naver.com/no5100/220731348408](https://blog.naver.com/no5100/220731348408) [https://en.wikipedia.org/wiki/Virtual\_circuit](https://en.wikipedia.org/wiki/Virtual_circuit)

#### 데이터그램 패킷 교환 방식

UDP 프로토콜은 **순서를 보장하지 않고**, **수신 여부를 확인하지 않으며** 단순히 데이터만 주는 "데이터그램 패킷 교환 방식"을 사용합니다.

<img width="651" height="500" alt="image" src="https://github.com/user-attachments/assets/d0f4a7f0-99d5-4411-88a0-81fe82fbf29f" />

데이터그램 방식은 패킷을 독립적으로 전송하는 방식으로,

여러 패킷은 서로 다른 경로로 전송될 수 있고, 출발 순서와 도착 순서가 다를 수 있는 방식입니다.

가상 회선 방식은 한 번 경로가 정해지면 메시지 전송 도중에 경로를 바꿀 수 없지만

데이터그램 방식에서는 매 패킷이 그때그때 최적의 경로로 이동하므로 네트워크 혼잡을 비교적 피할 수 있습니다.

#### 🖐️ TCP의 연결 성립 과정: 3-way handshake

TCP는 연결형 서비스를 지원하는 **연결 지향** 프로토콜입니다.

**연결 지향** 방식은 데이터를 보내기 전에 송신자와 수신자 사이에 **연결(세션)** 을 먼저 만드는 것을 말합니다.

연결을 먼저 함으로써 양쪽이 통신 준비가 됐는지, 데이터가 제대로 도착했는지 등을 확인하고

손실된 데이터는 재전송할 수 있어 이러한 특징 때문에 **신뢰성이 높다**라고 표현합니다.

예를 들어 특정 수신자에게 메일 내용이 손실되지 않고 제대로 가야하는 이메일의 경우, 

신뢰성이 필요하기 때문에 TCP를 사용합니다.

정리하자면, 안정적이고 신뢰성 있는 데이터 전송을 보장하기 위해 TCP는 연결 지향 프로토콜입니다.

이렇게 신뢰성을 확보하기 위해 송신자와 수신자를 연결할 때

**3-웨이 핸드셰이크(3-way handshake)** 작업을 진행합니다.

<img width="600" height="632" alt="image" src="https://github.com/user-attachments/assets/d88e3442-29c1-4c45-9a8f-99b56af75775" />

1.  **SYN 단계**
    -   클라이언트는 서버에 접속을 요청하는 SYN 패킷을 보냅니다.
2.  **SYN+ACK 단계**
    -   서버는 클라이언트의 SYN을 수신합니다.
    -   클라이언트에게 요청을 받았다고 알리는 ACK 패킷과
    -   서버 역시 클라이언트에게 접속을 요청하는 SYN 패킷을 함께 보냅니다.
3.  **ACK 단계**
    -   클라이언트는 서버의 패킷을 받고 다시 ACK 패킷을 보냅니다.
    -   서버가 ACK 패킷까지 받으면 데이터 통신이 가능한, 서로 연결된 상태가 됩니다.

| FLAG  | 설명 |
| --- | --- |
| SYN | 접속 요청을 할 때 보내는 패킷 |
| ACK | 상대방으로부터 패킷을 받은 뒤에, 잘 받았다고 알려주는 패킷 |
| ISN | 초기 시퀀스 번호      정확히는 새로운 TCP 연결의 첫 번째 패킷에 할당된 임의의 시퀀스 번호입니다.   이게 어디서 나온 값이냐보다는 데이터의 순서와 신뢰성을 보장하기 위한 "기준"이라고 생각합시다. |
| 승인번호 (ACK Number) | 상대방이 다음에 받을 것으로 기대하는 시퀀스 번호   \= 상대가 지금까지 받은 데이터 다음으로 받을 바이트 번호를 알려주는 값      송신자는 이를 통해 어떤 데이터가 제대로 도착했는지 알 수 있고, 누락된 데이터가 있는지 확인합니다. |

그림에서 1번 SYN 단계에서 클라이언트가 보낸 패킷에는 ISN = 12010 이 들어 있어요.  
서버는 이 값을 받고, 다음에 받을 데이터는 12010 + 1 = 12011 번째 바이트가 되어야 한다고 기대합니다.  
그래서 서버가 보내는 ACK 패킷에는 승인 번호(ACK Number)로 12011 을 표시합니다.

#### 🖐️ TCP의 연결 해제 과정: 4-way handshake

연결을 시작할 때 3-웨이 핸드셰이크로 연결이 됐는지 확인하는 것과 유사하게

TCP가 연결을 해제할 때는 4-웨이 핸드셰이크(4-way handshake) 작업을 합니다.

<img width="600" height="377" alt="image" src="https://github.com/user-attachments/assets/2c3d7548-0914-4d79-adc2-f756f46a1ddb" />

1.  **클라이언트 → 서버: FIN (클라이언트가 연결 종료 요청)**
    1.  클라이언트가 접속을 끊으려고 CLOSE() 함수를 호출하면 서버에 FIN 플래그를 보내게 됩니다.
    2.  클라이언트는 \`FIN\_WAIT\_1\` 상태로 들어가고 서버의 응답을 기다립니다.
2.  **서버 →  클라이언트: ACK (FIN 수신 확인)**
    1.  서버는 클라이언트가 연결을 끊으려고 하는 걸 알고 클라이언트로 ACK 플래그를 보냅니다.
    2.  서버는 \`CLOSE\_WAIT\` 상태로 들어갑니다.
    3.  클라이언트는 이 ACK를 받으면 \`FIN\_WAIT2\` 상태에 들어갑니다.
    4.  (만일 서버에서 클라이언트로 보낼 데이터가 남아 있는 경우 이때 나머지를 모두 전송합니다.)
3.  **서버 → 클라이언트: FIN (서버도 연결 종료 요청)**
    1.  서버는 2번에서 ACK를 보내고 일정 시간 이후에 클라이언트에 FIN 플래그를 보냅니다.
    2.  (일정 시간이라고 했지만, 정확히는 클라이언트로 보낼 데이터가 모두 전송된 후입니다.)
4.  **클라이언트 → 서버: ACK (서버 FIN 수신 확인)**
    1.  클라이언트는 다시 서버로 ACK를 보내고 \`TIME\_WAIT\` 상태로 들어갑니다.
    2.  ACK를 받은 서버는 \`CLOSED\` 상태로 들어가 연결을 해제합니다.
    3.  클라이언트는 이후 어느 정도의 시간을 대기한 후 \`CLOSED\` 상태로 들어가 모든 연결을 해제합니다.

이 과정 중 클라이언트의 \`TIME\_WAIT\`은 왜 있을까요?

그냥 연결을 닫으면 되지 왜 굳이 일정 시간을 기다리고 닫을까요?

두 가지 이유가 있습니다.

-   지연 패킷이 발생하는 경우에 대비하기 위해
    -   네트워크에 지연되어 남아있는 오래된 패킷들이 뒤늦게 도착할까봐 일정 시간을 기다립니다.
    -   만약, 이전 연결이 종료되고 새로운 연결이 시작됐는데 이전 연결의 패킷들이 도착하면 데이터 무결성 문제가 발생할 수 있습니다.
-   두 장치가 연결이 닫혔는지 확인하기 위해 (마지막 ACK를 확실히 전송하기 위해)
    -   클라이언트가 서버에게 ACK를 보냈는데 이 ACK 패킷이 손실될 수도 있습니다.
    -   서버는 클라이언트로부터 ACK를 받지 못하면 FIN을 다시 전송합니다.
    -   \`TIME\_WAIT\` 상태에 있는 클라이언트는 다시 ACK를 재전송할 수 있기 때문에 ACK를 성공적으로 보냈다는 확신이 있을 때가지 완전 종료 상태로 들어가지 않습니다.

#### UDP

TCP가 이처럼 꼼꼼히 연결을 확인하는 것에 비해

UCP는 **연결을 확인하지 않고(비연결형)**, **패킷 순서 역시 신경쓰지 않고** 전송합니다.

**신뢰성은 낮지만 TCP보다 속도가 빠르다**라는 장점이 있습니다.

이러한 특징 때문에 중간 중간 손실은 있어도 되지만 실시간 통신이 중요한 스트리밍과 같은 곳에서 사용됩니다.

---

### 🌐 TCP/IP 계층 - 인터넷 계층 (internet)

-   장치로부터 받은 네트워크 패킷을 IP 주소로 지정된 목적지까지 전달하는 역할
-   패킷에 수신자의 IP 주소를 지정하여 데이터를 네트워크 상에서 라우팅
-   상대방이 제대로 받았는지에 대해 보장하지 않는 비연결형 프로토콜
-   주요 프로토콜: IP, ARP, ICMP

전송 계층이 편지 봉투에 주소와 우편번호를 적고, 내용이 제대로 전달되는지 확인하는 역할이라면,

인터넷 계층은 ‘우편 배달부’처럼 편지가 어떤 경로(라우터 등)를 통해 가야 하는지 찾아서 배달하는 역할입니다.

---

### 🔗 TCP/IP 계층 - 링크 계층 (link)

-   실제 물리 매체를 통해 데이터를 전송하며, 장치 간에 신호를 주고받는 규칙을 정하는 계층
-   전선, 광섬유, 무선 등으로 구성
-   네트워크 액세스 계층이라고도 합니다.

OSI 7계층에서는 이 링크 계층을 물리 계층과 데이터 링크 계층으로 나누는데,

물리 계층은 무선 LAN과 유선 LAN을 통해 0과 1로 이루어진 데이터를 보내는 계층이고

데이터 링크 계층은 이더넷 프레임을 통해 에러 확인, 흐름 제어, 접근 제어를 담당하는 계층입니다.

---

#### 유선 LAN(IEEE802.3)

유선 LAN을 이루는 이더넷은 IEEE802.3 프로토콜을 따르며

전이중화 통신을 사용합니다.

#### 전이중화 통신 (full duplex)

**양쪽 장치가 동시에 송수신**할 수 있는 방식입니다.

**송신로와 수신로를 분리**하여 데이터를 주고 받습니다.

<img width="600" height="375" alt="image" src="https://github.com/user-attachments/assets/8f549be1-1583-4b30-af42-b11dd4618e9a" />

> **\+ CSMA/CD**  
> 참고로 이전에는 유선 LAN에 반이중화 통신 중 하나인 CSMA/CD 방식을 사용했습니다.  
> 이 방식은 데이터를 보낸 이후 충돌이 발생한다면 일정 시간 이후 재전송하는 방식입니다. 수신로와 송신로가 각각 있지 않고, 한 경로를 기반으로 데이터를 보내기 때문에 충돌에 대비해야 했기 때문입니다.  
> 현재 전이중화 통신에서는 송신로, 수신로가 분리되어 있어 데이터 충돌을 걱정하지 않습니다.

#### 유선 LAN을 이루는 케이블

트위스트 페어 케이블(TP 케이블)

하나의 케이블처럼 보이지만 실제로는 여덟 개의 구리선을 두 개씩 꼬아서 묶은 케이블입니다.

<img width="600" height="178" alt="image" src="https://github.com/user-attachments/assets/eef3357d-9e10-46fb-a409-21968c743127" />

광섬유 케이블

광섬유로 만든 케이블입니다.

레이저를 이용해서 통신하기 때문에 구리선과는 비교할 수 없을 만큼의 장거리 및 고속 통신이 가능합니다.

---

#### 무선 LAN (IEEE802.11)

무선 LAN(WLAN, Wireless Local Area Network)은 무선 신호 전달 방식을 이용하여 2대 이상의 장치를 연결하는 기술입니다.

무선 LAN은 수신과 송신에 같은 채널을 사용하기 때문에 반이중화 통신을 사용합니다.

#### 반이중화 통신 (half duplex)

**양쪽 장치는 서로 통신할 수 있지만**

동시에는 통신할 수 없으며 **한 번에 한 방향만 통신**할 수 있습니다.

장치가 신호를 수신하기 시작하면 전송이 완료될 때까지 기다려야 합니다.

둘 이상의 장치가 동시에 전송하면 데이터 충돌이 발생하여 데이터 손실이 생길 수 있으므로 이에 대한 대책이 필요합니다.

<img width="600" height="379" alt="image" src="https://github.com/user-attachments/assets/b7bc9f16-00c2-4cd1-b190-8dd86879af15" />

> **\+ CSMA/CA**  
> 반이중화 통신 중 하나로 사전에 가능한 한 충돌을 방지하기 위한 방식입니다.  
> 1\. 데이터를 송신하기 전 채널을 살펴봅니다.  
> 2\. 채널이 비어있으면 데이터를 전송하고, 채널이 비어있지 않다면 일정 시간(IFS)만큼 기다렸다가 다시 확인합니다.  
> 3\. 재전송 횟수가 정해진 최대 횟수를 넘으면 포기합니다.  

#### 무선 LAN을 이루는 주파수

공기에 주파수를 쏘아 무선 통신망을 구축하는데

2.4GHz 또는 5GHz 대역폭을 사용합니다.

| 대역폭 | 특징 |
| --- | --- |
| 2.4GHz | ✅ 신호 범위가 넓음   장애물(ex 벽) 투과를 잘함 |
| ❌ 속도가 상대적으로 느림   전자레인지 등 다른 기기와 간섭이 비교적 많음 |
| 5GHz | ✅  속도가 빠름   사용 가능한 채널이 많고, 간섭이 적음 |
| ❌ 신호 범위가 좁음   장애물에 약함 |

와이파이 (wifi)

-   전자기기들이 무선 LAN에 연결할 수 있게 하는 기술
-   무선 접속 장치(공유기)가 필요함
-   유선 LAN에 흐르는 신호를 무선 LAN 신호로 바꿔 신호가 닿는 범위 내에서 무선 인터넷을 사용할 수 있음

BSS (Basic Service Set)

-   기본 서비스 집합
-   동일 BSS 내에 있는 AP(Access Point)들과 장치들이 서로 통신이 가능한 구조
-   근거리 무선 통신 제공: 동일 BSS 내에 있는 기기들은 서로 직접 통신 가능
-   하나의 AP만을 기반으로 구축되어 있어 사용자가  BSS 범위를 벗어나면 네트워크 접속 불가

ESS (Extended Service Set)

-   하나 이상의 연결된 BSS 그룹
-   장거리 무신 통신 제공
-   사용자는 한 장소(한 BSS)에서 다른 장소(다른 BSS)로 이동해도 중단 없이 네트워크에 계속 연결할 수 있음

---

#### 이더넷 프라임

데이터 링크 계층은 이더넷 프라임을 통해 전달받은 데이터의 에러를 검출하고, 캡슐화합니다.

<img width="600" height="116" alt="image" src="https://github.com/user-attachments/assets/f97a8214-623f-44bd-be3f-54ce1b9b5ce7" />

-   Preamble
    -   이더넷 프라임이 시작임을 알립니다.
-   SFD(Start Frame Delimiter)
    -   다음 바이트부터 MAC 주소 필드가 시작됨을 알립니다.
-   DMAC, SMAC
    -   수신, 송신 MAC 주소를 말합니다.
-   EtherType
    -   데이터 계층 위의 계층인 IP 프로토콜을 정의합니다.
    -   예: IPv4, IPv6
-   Payload
    -   전달 받은 데이터
-   CRC
    -   에러 확인 비트

---

### 계층 간 데이터 송수신 과정

HTTP를 통해 웹 서버에 있는 데이터를 요청한다면?

<img width="912" height="627" alt="image" src="https://github.com/user-attachments/assets/370a6d71-5a8c-4ebd-bfff-58a03cc12c08" />

송신자의 애플리케이션 계층부터 전송 계층까지 요청 값들이 캡슐화 과정을 거칩니다.

링크 계층을 통해 수신자와 통신을 하고,

수신자의 링크 계층부터 애플리케이션 계층까지 이동하며 비캡슐화 과정을 거칩니다.

#### 캡슐화 과정

상위 계층의 헤더와 데이터를 하위 계층에 데이터 부분에 포함시키고, 해당 계층의 헤더를 삽입하는 과정입니다.

<img width="600" height="217" alt="image" src="https://github.com/user-attachments/assets/0c6e2d07-4d52-4df9-8001-ddc366245df8" />

애플리케이션 계층의 메시지가

그 다음 계층인 전송 계층의 데이터 내에 포함되고, TCP(L4) 헤더가 붙어 세그먼트가 되는 방식입니다.

#### 비캡슐화 과정

하위 계층에서 상위 계층으로 가며 각 계층의 헤더 부분을 제거하여 최종적으로 메시지만 남습니다.

<img width="600" height="217" alt="image" src="https://github.com/user-attachments/assets/fd259395-3797-452e-abc0-f5886c018cb5" />

---

## PDU

어떠한 계층에서 계층으로 데이터가 전달될 때 한 덩어리의 단위를 말합니다.하나의 PDU는 제어 관련 정보들이 포함된 **헤더**와 데이터를 의미하는 **페이로드**로 구성되어 있는데계층마다 부르는 이름이 다릅니다.

| 계층 | PDU명 | 설명 |
| --- | --- | --- |
| 애플리케이션 계층 | 메시지 (Message) | 사용자 데이터 생성 |
| 전송 계층 | TCP: 세그먼트(Segment) / UDP: 데이터그램(Datagram) | TCP/UDP 헤더가 붙어 세그먼트/데이터그램 생성 |
| 인터넷 계층 | 패킷(Packet) | IP 헤더가 붙어 패킷 생성 |
| 링크 계층 | 데이터 링크 계층: 프레임(Frame)   물리 계층: 비트(Bit) | 프레임 헤더와 트레일러가 붙어 프레임 생성 |

---

## 🔑 요약

-   **TCP/IP 4계층**
    -   인터넷 프로토콜 스위트를 설명하는 모델
    -   애플리케이션, 전송, 인터넷, 링크 계층으로 구성
-   ****애플리케이션 계층****: 사용자에게 실질적인 서비스를 제공하는 층
-   **전송 계층**: 송신자와 수신자를 연결하는 통신 서비스를 제공하는 층  
    -   TCP와 UDP가 있음
-   **TCP**: 패킷의 도착과 순서를 보장하는, 느리지만 신뢰성 있는 연결형 프로토콜
    -   연결할 때는 3-웨이 핸드셰이크
    -   연결 해제할 때는 4-웨이 핸드셰이크
-   **UDP**: 패킷의 순서를 보장하지 않는, 빠른 비연결형 프로토콜
-   **인터넷 계층**:  네트워크 패킷을 IP 주소로 지정된 목적지까지 전달하는 역할
-   **링크 계층**: 실제 물리적으로 데이터를 전달하는 계층  
    -   **전이중화 통신**: 양쪽 장치가 동시에 송수신할 수 있는 방식
        -   유선 LAN에서 사용
    -   **반이중화 통신**: 양쪽 장치가 서로 통신할 수 있지만 한 번에 한 방향만 가능한 방식
        -   무선 LAN에서 사용
-   **캡슐화/비캡슐화**: 계층 간 데이터 전달 시 헤더 추가/제거 과정

## 👩‍🏫 예상 질문

| OSI 7계층과 TCP/IP 4계층에 대해 설명해보세요. | OSI 7계층과 TCP/IP 4계층은 네트워크 통신을 계층별로 나누어 이해하고 설계할 수 있도록 만든 모델입니다.      OSI 7계층은 응용/표현/세션, 전송, 네트워크, 데이터 링크/물리 계층으로 구분되고   TCP/IP 4계층은 응용, 전송, 인터넷, 링크(네트워크 액세스) 계층으로 구분됩니다.      OSI 모델이 표준과 학습도구로써의 의의가 있다면 TCP/IP 모델은 실무적인 통신 기술을 구현하는데 의미를 가집니다. |
| --- | --- |
| TCP와 UDP 차이점을 설명해주세요. | TCP와 UDP는 전송 계층의 대표 프로토콜입니다.      TCP는 연결형으로, 패킷이 순서대로 도착할 것을 보장하고 손실이 되면 다시 재전송까지 해주는 신뢰성 있는 프로토콜입니다.      UDP는 비연결형으로 패킷 도착 순서를 보장하지 않고, 패킷이 손실되어도 재전송을 하지 않지만, TCP보다 속도가 빠릅니다. |
| TCP와 UDP는 각각 어떨 때 사용할까요? | TCP는 신뢰성이 중요한 작업 예를 들어 내용이 손실되지 않고 도착해야 하는 이메일 같은 작업에서 사용합니다.      UDP는 데이터 손실이 있더라도 속도가 더 중요한 동영상 스트리밍 같이 실시간성이 요구되는 작업에 적합합니다. |
| TCP가 신뢰성을 보장하는 방법이 무엇인가요? | 패킷에 시퀀스 번호를 부여하여 순서를 유지합니다.   ACK 응답을 못 받으면 패킷을 재전송합니다.   수신자의 처리 속도와 네트워크 상태에 맞춰 전송량과 속도를 조절합니다. |
| TCP의 3-way handshake 과정을 설명해주세요. | TCP에서 연결을 시작할 때 하는 작업입니다      클라이언트에서 서버로 연결을 요청하는 SYN 플래그를 보내고,   서버에서 이를 확인했다는 의미로 ACK 플래그를 보냅니다.   또한 서버에서 클라이언트로 연결을 요청하는 SYN을 함께 보내고   클라이언트가 이에 대한 ACK를 보내면 연결이 완료됩니다. |
| UDP에서 패킷 손실이 발생하면 어떻게 처리되나요? | UDP 자체는 복구 또는 재전송 기능이 없습니다.   신뢰성이 필요하면 애플리케이션에서 직접 구현해야 합니다. |
| 유선 LAN에서 사용하는 통신 방식에 대해 설명해주세요. | 전이중화 통신 방식을 사용합니다.   양쪽 장치 간 송수신이 동시에 가능합니다.      송신로와 수신로가 분리되어 있기 때문입니다. |
| 무선 LAN에서 사용하는 통신 방식에 대해 설명해주세요. | 반이중화 통신 방식을 사용합니다.   양쪽 장치 간 송수신이 가능하지만 한 번에 한 방향으로만 전송할 수 있습니다. |
| 왜 무선 LAN에서는 전이중화 통신 방식을 쓰지 않을까요? | 유선 LAN에서는 물리적으로 케이블을 수신 경로와 송신 경로로 분리하기 쉽습니다.   하지만 무선 LAN에서는 송신과 수신 모두 같은 주파수 대역을 쓰기 때문에 두 신호 간 데이터 충돌이 발생할 수 있습니다. |
| 계층 간 데이터는 어떻게 전달되나요? | 상위 계층에서 하위 계층으로는 캡슐화되어, 데이터에 헤더를 추가하는 방식으로 전달됩니다.   하위 계층에서 상위 계층으로는 비캡슐화되어 헤더가 제거되는 방식으로 전달됩니다. |
| 2.4GHz와 5GHz 무선 주파수의 차이점과 각각의 장단점은 무엇인가요? | 2.4GHz는 장애물에 대한 제한이 적어 신호 범위가 넓지만, 간섭에 약하고 속도가 비교적 느립니다.   5GHz는 신호 범위가 좁지만 간섭에 강하고, 속도도 빠르고, 사용할 수 있는 채널 수도 많습니다. |
| 5GHz가 더 빠른데도 불구하고 2.4GHz를 쓰는 이유는 무엇인가요? | 멀리 떨어진 기기나 벽이 많은 환경에서는 2.4GHz가 더 안정적이기 때문입니다.   또한 오래된 기기나 저전력 IoT 기기는 2.4GHz만 지원하는 경우가 많습니다. |

---

**참고자료**

이미지 출처: [https://thebook.io/080326/](https://thebook.io/080326/)

[\[TCP/UDP\] TCP와 UDP의 특징과 차이](https://thebook.io/080326/0077/)

[🌐 아직도 모호한 TCP / UDP 개념 ❓ 쉽게 이해하자](https://inpa.tistory.com/entry/NW-%F0%9F%8C%90-%EC%95%84%EC%A7%81%EB%8F%84-%EB%AA%A8%ED%98%B8%ED%95%9C-TCP-UDP-%EA%B0%9C%EB%85%90-%E2%9D%93-%EC%89%BD%EA%B2%8C-%EC%9D%B4%ED%95%B4%ED%95%98%EC%9E%90#http_/_ip_/_tcp_/_udp_%EB%8A%94_%EB%AA%A8%EB%91%90_%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C)

[패킷교환 방식: 데이터그램 방식과 가상 회선 방식](https://m.blog.naver.com/cni1577/221547620417)
