> 이 포스팅은 주홍철 저 '면접을 위한 CS 전공지식 노트' 2.1장을 토대로 작성되었습니다.

## 네트워크의 기초

네트워크란,

두 대 이상의 컴퓨터나 장치들이 서로 연결되어 **정보를 주고받을 수 있는 연결망**을 말합니다.

여기서 컴퓨터나 장치는 **노드(node)**, 연결선은 **링크(link)**, 정보는 **리소스(resource)** 라고 바꾸어 말하면

다음과 같이 네트워크를 정의할 수 있습니다.

**네트워크란, 노드와 링크가 서로 연결되어 있으며 리소스를 공유하는 집합체입니다.**

-   **노드(Node):** 서버, 라우터, 스위치 등 네트워크를 구성하는 장치
-   **링크(Link):** 유선 또는 무선으로 노드 간을 연결하는 통신 경로

<img width="600" height="499" alt="image" src="https://github.com/user-attachments/assets/b44a7cba-392e-42d4-9f20-417617ce2976" />

---

### 처리량과 지연 시간

좋은 네트워크란 많은 처리량을 처리할 수 있으며, 지연 시간이 짧고 장애 빈도가 적으며 좋은 보안을 갖춘 네트워크입니다.

여기서 처리량과 지연 시간이란?

#### 📌 처리량 (throughput)

> **링크 내에서 성공적으로 전달된 데이터의 양  
> \= 얼만큼의 트래픽을 처리했는가?**

많은 처리량을 가진다는 것은 많은 트래픽을 처리한다는 말입니다.

단위로는 bps(bits per seconds)를 사용합니다.

<img width="600" height="345" alt="image" src="https://github.com/user-attachments/assets/4b0d0a8d-22b0-429d-926a-63ac3f0557b4" />

-   트래픽: 특정 시점에 링크 내에 흐르는 데이터의 양
-   트래픽이 많아졌다: 흐르는 데이터가 많아졌다
-   처리량이 많아졌다: 처리되는 트래픽이 많아졌다
-   대역폭: 주어지 시간 동안 네트워크 연결을 통해 흐를 수 있는 최대 비트 수

처리량은 사용자들이 많이 접속할 때마다 커지는 트래픽, 네트워크 장치 간의 대역폭, 네트워크 중간에 발생하는 에러, 장치의 하드웨어 스펙에 영향을 받습니다.

#### 📌 지연 시간 (latency)

> **요청이 처리되는 시간  
> \= 어떤 메시지가 두 장치 사이를 왕복하는 데 걸린 시간**

<img width="600" height="293" alt="image" src="https://github.com/user-attachments/assets/0b255c8a-efe0-41c2-83e1-264277b72e7f" />

이 그림에서 지연 시간은

지연 시간은 클라이언트가 보낸 요청이 서버에 도착하기까지 걸린 시간 800ms + 서버에서 요청을 처리한 응답이 클라이언트에 도착하기까지 걸린 시간 900ms(서버에서 응답 생성하는 시간 제외, 단순히 네트워크 통해 전송한 시간)를 더한 1.7s입니다.

지연 시간은 매체 타입이 유선인가/무선인가, 패킷 크기, 라우터의 패킷 처리 시간에 영향을 받습니다.

#### 📌 + 패킷 (packet)

> **네트워크에서 데이터를 주고받을 때 사용되는 데이터 조각**

데이터를 전송할 때 통째로 전송한다면

전송 과정에서 오류가 일어나면 전체 데이터가 손실될 위험이 있고, 그러면 전체 데이터를 다시 전송해야 해서

시간이 오래 소요되고, 자원이 낭비될 수 있습니다.

대용량 데이터인 경우에는 더 혼잡해지겠죠.

그래서 데이터를 작은 용량의 패킷으로 나누어 발송하면 특정 네트워크에 부담이 되지 않고, 트래픽을 균일하게 분배할 수 있습니다.

또한 발송 중에 특정 패킷의 데이터가 손실되어도 해당 패킷의 데이터만 재전송하면 되어 효율적입니다.

갓 패킷은 우리가 주고받고자 하는 데이터 뿐만 아니라

데이터가 잘 도착하기 위해 필요한 IP 주소 등 패킷으로 나뉜 데이터를 수신자가 다시 합치기 위해 필요한 정보, 메타 정보를 포함하고 있습니다.

---

### 네트워크 토폴로지와 병목 현상

#### 네트워크 토폴로지

토폴로지는 노드와 링크가 배치된 방식이자 연결 형태입니다.

**트리 토폴로지**

모든 노드가 루트 노드를 중심으로 연결된 계층적 구조입니다.

<img width="600" height="353" alt="image" src="https://github.com/user-attachments/assets/2d812ce0-9662-4800-b5f0-5f5ab43b63da" />

-   \+ 노드를 추가하기 쉬워 확장성이 좋습니다.
-   \+ 계층적 구조라 문제가 발생한 위치를 구조적으로 추적하기 쉽습니다.

-   \- 중앙 연결(일반적으로 루트 노드)이 중단되면 모든 것이 중단되는 취약점이 있습니다.
-   \- 특정 노드에 트래픽이 집중되면 병목 현상이 발생하여 하위 노드로 데이터 전달이 원활하지 않게 될 수도 있습니다.

**버스 토폴로지**

버스 노선에서 분기되는 버스 정류장들처럼

중앙 통신 회선 하나에 여러 개의 노드가 연결되어 공유하는 구조입니다.

근거리 통신망(LAN)에 사용됩니다.

<img width="600" height="226" alt="image" src="https://github.com/user-attachments/assets/5630debc-246c-447c-8c29-83e6ac82fd15" />

-   \+ 일직선으로 연결되므로 설치 비용이 적습니다.
-   \+ 노드를 추가하거나 삭제하기 쉽습니다.

-   \- 중앙 회선에 장애가 발생하면 모든 노드에 장애가 일어납니다.
-   \- 모든 노드가 같은 회선을 공유하기 때문에 스푸핑 공격에 취약합니다.

> **🦹 스푸핑이란?  
> **LAN 상에서 송신부의 패킷을 송신과 관련 없는 다른 호스트에 가지 않도록 하는 스위칭 기능을 마비시키거나 속여서 특정 노드에 해당 패킷이 오도록 처리하는 것.  
> \= 다른 사람이나 시스템인 척 속여서 정보를 가로채는 공격

**스타 토폴로지**

중앙에 있는 노드에 모두 연결된 별 모양 토폴로지입니다.

<img width="600" height="426" alt="image" src="https://github.com/user-attachments/assets/1a48ab57-1e3f-4bef-9b3a-f06ce933b60f" />

-   \+ 노드를 추가하기 쉽습니다.
-   \+ 특정 노드에 에러가 발생한 것을 탐지하기 쉽습니다.
-   \+ 중앙 노드가 아니라면 단일 노드에 장애가 발생해도 나머지 네트워크는 거의 영향을 받지 않습니다.

-   \- 중앙 노드에 장애가 발생하면 전체 네트워크를 사용할 수 없습니다.
-   \- 설치 비용이 많이 듭니다.

**링형 토폴로지**

각각의 노드가 양 옆의 두 노드와 연결되어

전체적으로 고리처럼 하나의 연속된 길을 통해 통신을 하는 토폴로지입니다.

데이터가 노드에서 노드로 이동하게 됩니다. 일반적으로 단방향으로 흐릅니다.

<img width="600" height="500" alt="image" src="https://github.com/user-attachments/assets/b6c319d1-49c3-4da8-8a33-418824e33278" />

-   \+ 노드 수가 증가되어도 충돌이 발생할 가능성이 적습니다.
-   \+ 노드의 고장을 쉽게 찾을 수 있습니다.

-   \- 네트워크 구성 변경이 어렵습니다.
-   \- 단일 노드에 장애가 발생하면 전체 네트워크에 영향을 끼치게 됩니다.

**메시 토폴로지**

그물망처럼 연결된 구조로 망형 토폴로지라고 하기도 합니다.

<img width="600" height="485" alt="image" src="https://github.com/user-attachments/assets/1477e044-ed1d-4d64-a4df-958ed2288c95" />

-   \+ 한 노드에 장애가 발생해도 여러 개의 경로가 존재하므로 네트워크를 계속 사용할 수 있습니다.
-   \+ 트래픽 분산 처리가 가능합니다.
-   \+ 중앙 허브를 통하지 않고 직접 통신할 수 있어 통신이 매우 빠릅니다.

-   \- 구조가 복잡해 노드 추가(확장)가 어렵습니다.
-   \- 많은 비용이 필요합니다.

#### 병목 현상 (bottle neck)

> 전체 시스템의 성능이나 용량이 하나의 구성 요소로 인해 제한을 받는 현상  
> \= 네트워크에서 데이터가 특정 노드에 몰려 전체 데이터 흐름이 느려지는 현

네트워크가 어떤 토폴로지를 갖는지, 어떠한 경로로 이루어져 있는지 알면

병목 현상을 올바르게 해결할 수 있습니다.

<img width="600" height="393" alt="image" src="https://github.com/user-attachments/assets/471dbb72-2c79-42b3-b50a-b7cb20122ff6" />

현재 이러한 구조에서 병목 현상이 생겨 지연 시간이 길게 발생하고 있다고 해봅시다.

서버들이 선형으로 연결된 구조이기 때문에 특정 지점에 트래픽이 몰려 전체 네트워크 성능이 저하된 것입니다.

<img width="600" height="402" alt="image" src="https://github.com/user-attachments/assets/d756b184-7bb6-4dbc-bb33-9cad56acbca1" />

여러 서버들이 게이트웨이와 직접 연결되도록 회선을 추가하면,

트래픽이 한 경로로만 흐르지 않도록 분산되므로 병목을 완화할 수 있습니다.

---

### 네트워크 분류

네트워크는 규모를 기반으로 분류할 수 있습니다.

<img width="600" height="390" alt="image" src="https://github.com/user-attachments/assets/7478232f-c0e4-4585-9e1d-806508029918" />

#### LAN (Local Area Network)

-   근거리 통신망
-   예: 사무실, 같은 건물, 캠퍼스 등 좁은 공간
-   전송 속도가 빠르고, 혼잡하지 않음

#### MAN (Metropolitan Area Network)

-   대도시 지역 통신망
-   도시 같은 넓은 지역에서 운영
-   전송 속도가 LAN보다는 느리고, 혼잡함

#### WAN (Wide Area Network)

-   광역 네트워크
-   국가 또는 대륙 같이 넓은 단위로 운영
-   전송 속도가 느리고, MAN보다 혼잡

---

### 네트워크 성능 분석 명령어

애플리케이션 코드에 문제가 없는데 사용자가 서비스로부터 데이터를 가져오지 못한다면

네트워크 병목 현상일 수도 있습니다.

**병목 현상의 주된 원인**

-   네트워크 대역폭이 너무 좁을 때
-   네트워크 토폴로지가 효율적이지 않을 때
-   서버 CPU, 메모리 사용량이 부족할 때
-   비효율적인 네트워크 구성

이때 네트워크로부터 발생한 문제점이라는 것을 확인하면 네트워크 성능 분석을 해봐야 합니다.

#### ping (Packet INternet Groper)

-   네트워크 상태를 확인하려는 대상 노드를 향해 일정 크기의 패킷을 전송하는 명령어
-   TCP/IP 프로토콜 중에 ICMP 프로토콜을 통해 동작
    -    ICMP 프로토콜 미지원 기기 대상으로는 테스팅 불가
-   \`ping \[IP 주소 또는 도메인 주소\]\` / \`-n \[정수\]\` 옵션으로 패킷 수 지정 가능

<img width="607" height="242" alt="image" src="https://github.com/user-attachments/assets/d7d8d3fa-dc17-403a-a33d-d3deba784515" />

> **\+ TCP/IP 프로토콜 / ICMP 프로토콜**  
> TCP/IP 프로토콜은 네트워크에서 컴퓨터들이 서로 통신하기 위한 프로토콜 모음.  
> ICMP는 그 중 네트워크 진단 및 오류 보고를 위한 프로토콜.

#### netstat

-   접속되어 있는 서비스들의 네트워크 상태를 표시하는 명령어
-   네트워크 접속, 라우팅 테이블, 네트워크 프로토콜 등 리스트를 보여줍니다.
-   주로 서비스의 포트가 열려있는지 확인할 때 사용합니다.

<img width="712" height="344" alt="image" src="https://github.com/user-attachments/assets/8049e80e-5424-4b62-8aa8-9909b4796002" />

#### nslookup

-   DNS에 관련된 내용을 확인하기 위해 쓰는 명령어
-   특정 도메인에 매핑된 IP를 확인하기 위해 씁니다.

<img width="547" height="445" alt="image" src="https://github.com/user-attachments/assets/c9115669-45b1-4e97-876a-4db1f9ff8fe7" />

#### tracert

-   목적지 노드까지 네트워크 경로를 확인하는 명령어
-   목적지 노드까지 가는 구간들 중 어느 구간에서 응답 시간이 느려지는지 확인 가능
-   \`tracert \[IP 주소 또는 도메인 주소\]\`

<img width="697" height="416" alt="image" src="https://github.com/user-attachments/assets/471520a9-80b6-4bd0-9344-6c4206070ba7" />

-   홉(Hop): 패킷이 지나가는 네트워크 장비(라우터, 게이트웨이) 한 단위

---

### 네트워크 프로토콜 표준화

> **네트워크 프로토콜**  
> 다른 장치들끼리 데이터를 주고받기 위해 설정된 공통된 인터페이스

-   IEEE 또는 IETF라는 표준화 단체가 상정
-   ex) IEEE802.3: 유선 LAN 프로토콜

---

## 🔑 요약

-   처리량(throughput): 링크 내에서 성공적으로 전달된 데이터의 양
    -   얼마나 많은 트래픽을 처리했는가?
-   트래픽(traffic): 특정 시점에 링크 내에 흐르는 데이터의 양
-   대역폭: 주어진 시간 동안 네트워크 연결을 통해 흐를 수 있는 최대 비트 수
-   지연 시간(latency): 요청이 처리되는 시간 = 메시지가 두 장치 사이를 왕복하는 시간
-   병목 현상(bottle neck): 전체 시스템의 성능이나 용량이 하나의 구성 요소로 인해 제한을 받는 현상
-   LAN: 근거리 통신망
-   MAN: 대도시 지역 통신망
-   WAN: 광역 네트워크

## 👩‍🏫 예상 질문

| 네트워크란 무엇인가요?   노드와 링크는 무엇인가요? | 네트워크란 노드와 링크로 연결되어 정보를 공유하는 집합입니다.      노드는 네트워크 장치를 의미하고, 링크는 유선 또는 무선의 노드 간의 연결선을 의미합니다. |
| --- | --- |
| 처리량과 트래픽의 차이는 무엇인가요? | 트래픽은 특정 시점에 링크 내에 흐르는 데이터의 양이고,   처리량은 링크 내에서 성공적으로 전달된 데이터의 양입니다.      트래픽이 많아지면 전달하려는 데이터가 많아졌다는 의미이고,   처리량이 많아진 건 성공적으로 전달된 트래픽이 많아졌다는 의미입니다. |
| 지연 시간은 무엇인가요? | 요청이 처리되는 시간으로, 메시지가 두 장치 사이를 왕복하는 데 걸린 시간입니다. |
| 스타 토폴로지와 링 토폴로지를 비교해보세요. | 스타 토폴로지는 모든 노드가 중앙 노드에 연결된 구성입니다.   노드 추가와 고장 탐지가 쉽고, 중앙 노드가 아닌 노드에서 고장이 발생하면 다른 노드에 미치는 영향이 적습니다.   하지만 중앙 노드가 고장나면 전체 네트워크를 사용할 수 없고, 설치 비용이 높습니다.      링형 토폴로지는 각각의 노드가 양 옆 노드와 연결된 고리 형태입니다.   고장 탐지가 쉽습니다.   하지만 구성 변경이 어렵고, 한 노드만 고장나도 전체 네트워크를 사용하지 못할 수 있습니다. |
| 병목 현상이 무엇이고, 어떻게 해결할 수 있나요? | 병목 현상은 전체 성능이 어느 한 부분으로 인해 제한을 받는 현상입니다.   네트워크에서는 주로 트래픽이 한 곳에 몰려 데이터 흐름이 느려지는 상황을 말합니다.      회선을 추가하거나, 대역폭을 확장하거나, 토폴로지를 효율적인 구조로 변경하든가, 서버 성능을 개선하는 방법이 있습니다. |
| LAN, MAN, WAN을 비교하세요. | LAN은 같은 건물 같은 근거리, MAN은 대도시 단위, WAN은 국가나 대륙 단위의 통신망입니다.   LAN에서 WAN으로 갈수록 전송 속도가 느려지고, 혼잡해집니다. |
| ping 명령어에 대해 설명해주세요. | ping은 특정 노드로 일정한 크기의 패킷을 전송하여   패킷을 잘 받는지, 얼마나 걸리는지 등   네트워크 통신 상태를 확인하는 명령어입니다. |

---

참고 자료

이미지 출처: [https://thebook.io/080326/](https://thebook.io/080326/0058/)

[패킷(Packet)](https://docs.tosspayments.com/resources/glossary/packet)

[네트워크 토폴로지란 무엇인가요?](https://www.ibm.com/kr-ko/topics/network-topology)
